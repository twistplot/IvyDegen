<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IvyDegen ($IVYD) - Smartest Memecoin</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.5/web3.min.js"></script>
    <!-- Add Solana Web3.js for Phantom -->
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
    <script defer src="script.js"></script>
</head>
<body>

    <!-- Hero Section -->
    <header>
        <img src="logo.png" alt="IvyDegen Logo" class="logo">
        <h1>Welcome to IvyDegen ($IVYD)</h1>
        <p>Where High IQ Meets High ROI</p>
        <a href="https://pump.fun" class="btn">Buy on Pump.fun</a>
        <button onclick="connectWallet()" class="btn" id="walletButton">Connect Wallet</button>
        <div id="walletAddress" style="display:none; margin-top:10px; word-break:break-all;"></div>
    </header>

    <!-- Rest of your HTML remains the same... -->
    <!-- About Section -->
    <section class="about">
        <h2>About IvyDegen</h2>
        <p>The only memecoin that merges Ivy League sophistication with degen chaos. Smart money, smart memes, and an even smarter community.</p>
    </section>

    <!-- Tokenomics -->
    <section class="tokenomics">
        <h2>Tokenomics</h2>
        <ul>
            <li><b>Total Supply:</b> 1,000,000,000 $IVYD</li>
            <li><b>Burn Mechanism:</b> 5% per transaction</li>
            <li><b>Redistribution:</b> 10% to holders</li>
        </ul>
    </section>

    <!-- Live Price -->
    <section class="price">
        <h2>Live Price</h2>
        <p id="price">$0.00</p>
    </section>

    <!-- Roadmap -->
    <section class="roadmap">
        <h2>Roadmap</h2>
        <ul id="roadmap-list"></ul>
    </section>

    <!-- Community -->
    <section class="community">
        <h2>Join the Community</h2>
        <a href="https://x.com/IvyDegen" class="btn">Twitter</a>
    </section>

    <!-- AI Chatbot -->
    <section class="chatbot">
        <h2>Ask IvyDegen AI</h2>
        <div id="chat-container">
            <div id="chat-box"></div>
            <input type="text" id="user-input" placeholder="Ask me anything...">
            <button onclick="sendMessage()">Send</button>
        </div>
    </section>

    <footer>
        <p>Â© 2025 IvyDegen. All rights reserved.</p>
    </footer>

    <script>
        // Wallet Connection Functionality
        let walletConnected = false;
        let publicKey = null;

        async function connectWallet() {
            try {
                const { solana } = window;
                
                if (solana && solana.isPhantom) {
                    console.log('Phantom wallet found!');
                    
                    // Connect to wallet
                    const response = await solana.connect();
                    publicKey = response.publicKey.toString();
                    console.log('Connected with Public Key:', publicKey);
                    
                    // Update UI
                    document.getElementById('walletButton').textContent = 'Disconnect Wallet';
                    document.getElementById('walletAddress').textContent = `Connected: ${publicKey.substring(0, 4)}...${publicKey.substring(publicKey.length - 4)}`;
                    document.getElementById('walletAddress').style.display = 'block';
                    walletConnected = true;
                    
                    // You can now use the publicKey for transactions
                } else {
                    alert('Phantom wallet not found! Please install it from https://phantom.app/');
                    window.open('https://phantom.app/', '_blank');
                }
            } catch (error) {
                console.error('Error connecting wallet:', error);
                alert('Failed to connect wallet. Please try again.');
            }
        }

        // Add event listener for wallet disconnect
        window.addEventListener('load', function() {
            const { solana } = window;
            
            if (solana && solana.isPhantom) {
                solana.on('disconnect', () => {
                    console.log('Wallet disconnected');
                    document.getElementById('walletButton').textContent = 'Connect Wallet';
                    document.getElementById('walletAddress').style.display = 'none';
                    walletConnected = false;
                    publicKey = null;
                });
            }
        });

        // Chatbot functionality (existing code)
        const responses = {
            "What is IvyDegen?": "IvyDegen is a memecoin that blends Ivy League sophistication with crypto degen culture.",
            "How can I buy IvyDegen?": "You can buy IvyDegen on Pump.fun! Follow our official links for safe transactions.",
            "What are the tokenomics?": "IvyDegen has a total supply of 1,000,000,000 tokens, with 5% burn and 10% redistribution.",
            "What is the roadmap?": "Our roadmap includes launch, community events, and CEX listings!",
            "Who is behind IvyDegen?": "IvyDegen is a decentralized community project led by smart degens like you!"
        };

        function sendMessage() {
            const userInput = document.getElementById("user-input").value;
            if (!userInput) return;
            
            const chatBox = document.getElementById("chat-box");
            const userMessage = document.createElement("p");
            userMessage.textContent = "You: " + userInput;
            chatBox.appendChild(userMessage);
            
            setTimeout(() => {
                const botMessage = document.createElement("p");
                botMessage.textContent = "IvyDegen AI: " + (responses[userInput] || "I'm not sure about that. Ask me something else!");
                chatBox.appendChild(botMessage);
            }, 1000);
            
            document.getElementById("user-input").value = "";
        }
    </script>

</body>
</html>
